# Concerts Data

This directory contains concert attendance data split by year.

## File Structure

```
concerts/
├── 2019.json
├── 2020.json
├── 2021.json
├── 2022.json
├── 2023.json
├── 2024.json
├── 2025.json
└── README.md
```

## Concert Entry Format

Each concert entry has the following fields:

```json
{
  "artist": "Artist Name",
  "date": "YYYY-MM-DD",
  "venue": "Venue Name",
  "rating": 8.5,
  "tags": ["genre", "type", "country", "city:xxx", "venue:xxx"]
}
```

| Field    | Type              | Description                                      |
| -------- | ----------------- | ------------------------------------------------ |
| `artist` | string            | Artist/band name (use consistent capitalization) |
| `date`   | string            | Concert date in `YYYY-MM-DD` format              |
| `venue`  | string            | Venue or festival name                           |
| `rating` | number \| null    | Rating from 1-10 (null if cancelled)             |
| `status` | string (optional) | Set to `"cancelled"` if concert was cancelled    |
| `tags`   | string[]          | Auto-generated by tagging script                 |

## Adding New Concerts

1. **Add entry to the appropriate year file** (e.g., `2025.json`)

   ```json
   {
     "artist": "New Artist",
     "date": "2025-03-15",
     "venue": "The Warfield",
     "rating": 8
   }
   ```

2. **Add artist tags** in `scripts/data/artistTags.js`:

   ```js
   'New Artist': ['genre', 'type', 'country', 'language'],
   ```

3. **Add venue tags** (if new venue) in `scripts/data/venueData.js`:

   ```js
   'New Venue Name': ['city:city-name', 'venue:venue-slug'],
   ```

4. **Run the tagging script**:

   ```bash
   node scripts/tag-concerts.js
   ```

5. **Update useConcertsData.ts** (if adding a new year):
   Add the new year to the `CONCERT_YEARS` array in `src/concerts/hooks/useConcertsData.ts`

## Artist Name Conventions

Keep artist names **consistent** across entries. The tagging script uses exact string matching.

- Use proper capitalization: `Blackpink` not `BLACKPINK` or `blackpink`
- For collaborations, pick one format: `Artist1 + Artist2` or `Artist1 B2B Artist2`
- For groups with special characters, match exactly: `fromis_9`, `NU'EST`

### Common Patterns

| Pattern          | Example                             |
| ---------------- | ----------------------------------- |
| Solo artist      | `IU`, `Stromae`                     |
| Group            | `Blackpink`, `Seventeen`            |
| DJ back-to-back  | `DJ Snake B2B Malaa`                |
| Collaboration    | `Four tet, Fred Again..., Skrillex` |
| Featured artists | `Jay Park feat. Sik-k & ph-1`       |

## Tag Categories

Tags are automatically generated from `artistTags.js` and `venueData.js`.

### Artist Tags

| Category  | Examples                                       |
| --------- | ---------------------------------------------- |
| Genre     | `k-pop`, `edm`, `hip-hop`, `rock`, `indie-pop` |
| Type      | `solo`, `group`, `duo`, `band`, `dj`           |
| Sub-type  | `girl-group`, `boy-group`, `dj-duo`            |
| Country   | `south-korea`, `us`, `france`, `australia`     |
| Language  | `korean`, `english`, `french`, `mandarin`      |
| Ethnicity | `korean-american`, `vietnamese-american`       |

### Venue Tags

| Category | Format             | Example                              |
| -------- | ------------------ | ------------------------------------ |
| City     | `city:city-name`   | `city:san-francisco`                 |
| Venue    | `venue:venue-slug` | `venue:bill-graham-civic-auditorium` |
| Festival | `festival:name`    | `festival:coachella`                 |
| Type     | `festival`         | Added for all festival sets          |

## Tagging Script

The script at `scripts/tag-concerts.js`:

1. Reads all `*.json` files from this directory
2. Looks up tags for each artist and venue
3. Combines tags and writes back to the files

```bash
# Run from project root
node scripts/tag-concerts.js
```

Output:

```
2019: 71 concerts tagged
2020: 2 concerts tagged
...
Total concerts tagged: 196
```

## Handling Unknown Artists

If an artist isn't in `artistTags.js`, they'll get tagged with `['unknown']`.
Check the console or search for `"unknown"` in the JSON files to find untagged artists.

## Tips

- **Cancelled concerts**: Set `"rating": null` and the script will add `"status": "cancelled"`
- **Festival sets**: Include festival name in venue (e.g., `"Coachella"`) - venue tags handle the rest
- **Multiple spellings**: Add aliases in the data files (see `Dan + Shay` / `Dan and Shay` example)
